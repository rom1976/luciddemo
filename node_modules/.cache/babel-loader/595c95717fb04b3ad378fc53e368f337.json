{"ast":null,"code":"var _jsxFileName = \"/Users/romulaspaulm/react/luciddemo/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Shadow } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport MenuItems from './MenuItems';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [userID, setUserID] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userData, setUserData] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [loggedin, setLoggedIn] = useState(false);\n  const [menulist, setMenuList] = useState([]);\n  const [org, setOrg] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const submitHandler = () => {\n    axios.post(\"https://demo.lucidits.com/LUCIDAPI/V1/Login\", {}, {\n      auth: {\n        username: userID,\n        password: password\n      }\n    }).then(response => {\n      console.log(response.data);\n      setUserData(response.data);\n      if (userData.errorCode === 1) throw userData.message; //console.log(userData);\n\n      setOrg(response.data.defaultPropertyName);\n      setMessage(\"Login Success\");\n      sessionStorage.setItem(\"key\", userData.lucidapiToken);\n      console.log(sessionStorage.getItem(\"key\"));\n    }).catch(error => {\n      setMessage(userData.message);\n    });\n  };\n\n  const LoginHandler = e => {\n    setUserID(e.target.value);\n    console.log(userID);\n  };\n\n  const LoginPasswordHandler = e => {\n    setPassword(e.target.value);\n    console.log(password);\n  };\n\n  useEffect(() => {\n    if (userData.lucidapiToken) setLoggedIn(true);\n    axios.get(\"https://demo.lucidits.com/LUCIDAPI/V1/GetOnlineOrderMenuItemListPageDetails\", {\n      headers: {\n        Authorization: `Bearer ${userData.lucidapiToken}`\n      }\n    }).then(response => {\n      setMenuList(response.data.response.menuItems);\n    }).then(Error => setMessage(\"Failed\"));\n  }, [loggedin, userData]);\n  const mnItems = JSON.stringify(menulist);\n  const mnItemsObj = JSON.parse(mnItems);\n  console.log(Object.entries(mnItemsObj));\n\n  if (loggedin) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row pb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: org\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"mb-4\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Menu Items List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"search...\",\n              onChange: e => {\n                setSearchTerm(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-3\",\n            children: [searchTerm === \"\" && /*#__PURE__*/_jsxDEV(MenuItems, {\n              items: mnItemsObj\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 43\n            }, this), mnItemsObj.map((a, id) => a.itemName).filter(val => {\n              if (val.toLowerCase().includes(searchTerm.toLowerCase())) {\n                return /*#__PURE__*/_jsxDEV(MenuItems, {\n                  item: val\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 27\n                }, this);\n              }\n            }).map((val, key) => {\n              const menVal = mnItemsObj.filter(obj => obj.itemName === val);\n              return /*#__PURE__*/_jsxDEV(MenuItems, {\n                items: menVal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 30\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: org\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row d-flex align-self-center h-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 h-100\",\n            style: {\n              border: \"solid blue\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mt-5 shadow-lg hoverable\",\n              style: {\n                borderRadius: \"1rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"input-group mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"input-group-prepend\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          class: \"input-group-text\",\n                          children: \"User ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 22\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        class: \"form-control\",\n                        name: \"loginName\",\n                        placeholder: \"yourname\",\n                        onChange: LoginHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 20\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 16\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"input-group mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"input-group-prepend\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          class: \"input-group-text\",\n                          children: \"Password\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 22\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        class: \"form-control\",\n                        type: \"password\",\n                        name: \"loginPassword\",\n                        placeholder: \"yourpassword\",\n                        onChange: LoginPasswordHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 20\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 20\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    className: \"btn btn-primary\",\n                    onClick: submitHandler,\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\" \", message, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n};\n\n_s(Login, \"w7gF140RRRtuAQgjPysCxsSSTtc=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/romulaspaulm/react/luciddemo/src/Login.js"],"names":["Button","Card","Shadow","axios","useState","useEffect","MenuItems","Login","userID","setUserID","password","setPassword","userData","setUserData","message","setMessage","loggedin","setLoggedIn","menulist","setMenuList","org","setOrg","searchTerm","setSearchTerm","submitHandler","post","auth","username","then","response","console","log","data","errorCode","defaultPropertyName","sessionStorage","setItem","lucidapiToken","getItem","catch","error","LoginHandler","e","target","value","LoginPasswordHandler","get","headers","Authorization","menuItems","Error","mnItems","JSON","stringify","mnItemsObj","parse","Object","entries","textAlign","map","a","id","itemName","filter","val","toLowerCase","includes","key","menVal","obj","border","borderRadius"],"mappings":"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","sourcesContent":["import { Button, Card, Shadow } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect} from \"react\";\r\n\r\nimport MenuItems from './MenuItems';\r\n\r\nconst Login = () => {\r\n  const [userID, setUserID] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [userData, setUserData] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loggedin, setLoggedIn] = useState(false);\r\n  const [menulist, setMenuList] = useState([]);\r\n  const [org, setOrg] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  const submitHandler = () => {\r\n    axios\r\n      .post(\r\n        \"https://demo.lucidits.com/LUCIDAPI/V1/Login\",\r\n        {},\r\n        {\r\n          auth: {\r\n            username: userID,\r\n            password: password,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setUserData(response.data);\r\n        if (userData.errorCode === 1) throw userData.message;\r\n\r\n        //console.log(userData);\r\n        setOrg(response.data.defaultPropertyName);\r\n        setMessage(\"Login Success\");\r\n        sessionStorage.setItem(\"key\", userData.lucidapiToken);\r\n        console.log(sessionStorage.getItem(\"key\"));\r\n      })\r\n      .catch((error) => {\r\n        setMessage(userData.message);\r\n      });\r\n  };\r\n\r\n  const LoginHandler = (e) => {\r\n    setUserID(e.target.value);\r\n    console.log(userID);\r\n  };\r\n\r\n  const LoginPasswordHandler = (e) => {\r\n    setPassword(e.target.value);\r\n    console.log(password);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userData.lucidapiToken) setLoggedIn(true);\r\n    axios\r\n      .get(\r\n        \"https://demo.lucidits.com/LUCIDAPI/V1/GetOnlineOrderMenuItemListPageDetails\",\r\n        {\r\n          headers: { Authorization: `Bearer ${userData.lucidapiToken}` },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setMenuList(response.data.response.menuItems);\r\n      })\r\n      .then((Error) => setMessage(\"Failed\"));\r\n  }, [loggedin, userData]);\r\n\r\n  const mnItems = JSON.stringify(menulist);\r\n  const mnItemsObj = JSON.parse(mnItems);\r\n  console.log(Object.entries(mnItemsObj));\r\n\r\n  if (loggedin) {\r\n    return (\r\n      <>\r\n        <div className=\"container\">\r\n          <div className=\"row pb-3\">\r\n            <h1>{org}</h1>\r\n            <h1 className=\"mb-4\" style={{ textAlign: \"center\" }}>\r\n              Menu Items List\r\n            </h1>\r\n              <div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"search...\"\r\n                onChange={(e) => {setSearchTerm(e.target.value);}}\r\n              />\r\n              </div>\r\n            \r\n               <div className='row mt-3'>\r\n              \r\n                   { searchTerm === \"\" && <MenuItems items={mnItemsObj}/>}\r\n            {\r\n              mnItemsObj\r\n                .map((a, id) => a.itemName)\r\n                .filter((val) => {\r\n                 if (val.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n                  return  <MenuItems item = {val}/>  }\r\n                  \r\n                })\r\n                .map((val, key) => {             \r\n                    \r\n                     const menVal =  mnItemsObj.filter((obj) => obj.itemName === val);\r\n                     return  <MenuItems items ={menVal} />\r\n                \r\n                })}\r\n\r\n            </div>\r\n             \r\n            </div>\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className=\"container p-5\">\r\n          <h1>{org}</h1>\r\n          <div className=\"row d-flex align-self-center h-100\">\r\n            <div className=\"col-md-4\"></div>\r\n            <div className=\"col-md-4 h-100\" style={{ border:\"solid blue\"}}>\r\n\r\n             <Card className= \"mt-5 shadow-lg hoverable\" style={{borderRadius: \"1rem\"}}>\r\n              <Card.Body>\r\n              <div>\r\n              <h3>Login</h3>\r\n\r\n                <form>\r\n               <div class=\"input-group mb-3\">\r\n                   <div class=\"input-group-prepend\">\r\n                     <span class=\"input-group-text\">User ID</span>\r\n                   </div>\r\n                   <input type=\"text\" \r\n                   class=\"form-control\"\r\n                   name=\"loginName\"\r\n                   placeholder=\"yourname\"\r\n                   onChange={LoginHandler}/>\r\n                   </div>\r\n\r\n                   <div class=\"input-group mb-3\">\r\n                   <div class=\"input-group-prepend\">\r\n                     <span class=\"input-group-text\">Password</span>\r\n                   </div>\r\n                   <input type=\"password\" \r\n                   class=\"form-control\"\r\n                   type=\"password\"\r\n                   name=\"loginPassword\"\r\n                   placeholder=\"yourpassword\"\r\n                   onChange={LoginPasswordHandler}/>\r\n\r\n                \r\n                  \r\n                </div>\r\n               </form>\r\n\r\n    \r\n                <Button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={submitHandler}\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </div>\r\n              \r\n              \r\n              </Card.Body>    \r\n             </Card>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <h2> {message} </h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}